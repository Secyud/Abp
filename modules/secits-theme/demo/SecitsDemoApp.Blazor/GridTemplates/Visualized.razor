@attribute [Route(AppMenus.Grid.VisualizedUri)]
@inherits ThemedPageBase


@{
    base.BuildRenderTree(__builder);
}

<SCard Theme="Theme" Size="Size">
    <Body>
    <SGrid TValue="ListDemoItem" Class="outline" DisableFooter>
        <DynamicDataSource Items="GetItem"/>
        <EnableIteratorVisualize/>
        <EnableColumnResize/>
        <GridColumn Caption="@L[nameof(ListDemoItem.Name)]" Width="200"
                    Field="@(item => item.Name)" Position="ColumnPosition.Front"/>
        <GridColumn Caption="@L[nameof(ListDemoItem.PhoneNumber)]" Width="200"
                    Field="@(item => item.PhoneNumber)"/>
        <GridColumn Caption="@L[nameof(ListDemoItem.Age)]" Width="50"
                    Field="@(item => item.Age)"/>
        <GridColumn Caption="@L[nameof(ListDemoItem.BirthDate)]" Width="512"
                    Field="@(item => item.BirthDate)" Position="ColumnPosition.Behind"
                    Format="yyyy/MM/dd"/>
    </SGrid>
    </Body>
</SCard>

@code{

    private async Task<DataResult<ListDemoItem>> GetItem(DataRequest request)
    {
        await Task.CompletedTask;
        var items = ListDemoItem.Generate(request.PageSize);
        return new DataResult<ListDemoItem>()
        {
            Items = items,
            TotalCount = 200
        };
    }

}